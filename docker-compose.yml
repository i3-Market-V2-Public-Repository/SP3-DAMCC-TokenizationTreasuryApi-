version: "3.9"
services:
  nodejs-tokenization-treasury-api:
    image: registry.gitlab.com/i3-market/code/wp3/t3.3/nodejs-tokenization-treasury-api:develop
    ports:
      - "3001:3001"
    volumes:
      - .:/usr/src/app
    environment:
     - ETH_HOST=$ETH_HOST
     - CONTRACT_ADDRESS=$CONTRACT_ADDRESS
     - WEBHOOK=$WEBHOOK
     - PORT=$PORT
  tokenizer-db:
    image: postgres:14.2
    ports:
      - "5432:5432"
    environment:
      - POSTGRES_PASSWORD=$POSTGRES_PASSWORD 	
      - POSTGRES_USER=$POSTGRES_USER
      - POSTGRES_DB=$POSTGRES_DB
    restart: always
  ganachecli:
    image: trufflesuite/ganache-cli:latest
    ports:
    - "8545:8545"
    command: -m "candy maple cake sugar pudding cream honey rich smooth crumble sweet treat" -i 4448 -h 0.0.0.0
  pg-admin:
    image: adminer
    links: 
    - tokenizer-db:db
    ports:
      - "8080:8080"


